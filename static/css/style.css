/* Base cuerpo y capas */
body {
  position: relative;
  min-height: 100vh;
  margin: 0;
  color: #e8f0ff;
  background: #0b172a;
  overflow: hidden;
  font-family: "Inter", system-ui, -apple-system, sans-serif;
}

body::before,
body::after {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  opacity: 0.7;
}

/* Claro */
body.weather-clear {
  background: radial-gradient(circle at 20% 20%, #ffd77a 0%, transparent 35%),
              linear-gradient(135deg, #7ac8ff 0%, #5ea8ff 35%, #4e7dff 70%, #2b4ea2 100%);
  color: #0b1b33;
}
body.weather-clear::before {
  background: radial-gradient(circle at 25% 30%, rgba(255, 231, 158, 0.6) 0%, rgba(255, 231, 158, 0) 45%);
  animation: sun-glow 24s ease-in-out infinite alternate;
}
body.weather-clear::after {
  background: radial-gradient(circle at 60% 70%, rgba(255, 255, 255, 0.14) 0%, rgba(255, 255, 255, 0) 45%);
}

/* Nubes */
body.weather-clouds {
  background: linear-gradient(160deg, #8aa3c0 0%, #7a8ea3 40%, #5e7088 100%);
  color: #f4f7fb;
}
body.weather-clouds::before {
  background:
    radial-gradient(ellipse at 20% 30%, rgba(255, 255, 255, 0.22) 0%, rgba(255, 255, 255, 0) 45%),
    radial-gradient(ellipse at 60% 40%, rgba(255, 255, 255, 0.16) 0%, rgba(255, 255, 255, 0) 50%),
    radial-gradient(ellipse at 40% 60%, rgba(255, 255, 255, 0.14) 0%, rgba(255, 255, 255, 0) 55%);
  filter: blur(4px);
  animation: clouds-drift 32s ease-in-out infinite alternate;
}
body.weather-clouds::after {
  background: radial-gradient(ellipse at 80% 70%, rgba(255, 255, 255, 0.12) 0%, rgba(255, 255, 255, 0) 55%);
}

/* Lluvia */
body.weather-rain {
  background: linear-gradient(180deg, #0f2a3d 0%, #0c2233 45%, #08212c 100%);
  color: #e1f1ff;
}
body.weather-rain::before {
  background-image: linear-gradient(180deg, rgba(255, 255, 255, 0.14), rgba(255, 255, 255, 0));
  background-size: 2px 28px;
  animation: rain-fall 1.6s linear infinite;
  opacity: 0.35;
}
body.weather-rain::after {
  background: radial-gradient(circle at 30% 20%, rgba(69, 166, 178, 0.16) 0%, rgba(69, 166, 178, 0) 45%),
              radial-gradient(circle at 70% 80%, rgba(69, 166, 178, 0.12) 0%, rgba(69, 166, 178, 0) 45%);
}

/* Nieve */
body.weather-snow {
  background: linear-gradient(180deg, #cfe9ff 0%, #a9c4de 45%, #88a7c6 100%);
  color: #0c2233;
}
body.weather-snow::before {
  background-image:
    radial-gradient(2px 2px at 20% 10%, rgba(255, 255, 255, 0.9), transparent),
    radial-gradient(2px 2px at 40% 30%, rgba(255, 255, 255, 0.9), transparent),
    radial-gradient(2px 2px at 60% 20%, rgba(255, 255, 255, 0.9), transparent),
    radial-gradient(2px 2px at 80% 25%, rgba(255, 255, 255, 0.9), transparent),
    radial-gradient(2px 2px at 50% 50%, rgba(255, 255, 255, 0.9), transparent),
    radial-gradient(2px 2px at 30% 70%, rgba(255, 255, 255, 0.9), transparent),
    radial-gradient(2px 2px at 70% 75%, rgba(255, 255, 255, 0.9), transparent);
  animation: snow-fall 18s linear infinite;
  opacity: 0.8;
}
body.weather-snow::after {
  background: radial-gradient(circle at 60% 40%, rgba(255, 255, 255, 0.25) 0%, rgba(255, 255, 255, 0) 55%);
  filter: blur(2px);
}

/* Tormenta */
body.weather-thunderstorm {
  background: radial-gradient(circle at 15% 20%, rgba(186, 134, 255, 0.18) 0%, rgba(186, 134, 255, 0) 45%),
              linear-gradient(160deg, #1b1529 0%, #100d1a 45%, #0b0a13 100%);
  color: #e8ddff;
}
body.weather-thunderstorm::before {
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0));
  background-size: 2px 24px;
  animation: rain-fall 1.2s linear infinite;
  opacity: 0.3;
}
body.weather-thunderstorm::after {
  background: radial-gradient(circle at 50% 40%, rgba(255, 255, 255, 0.5) 0%, rgba(255, 255, 255, 0) 40%);
  mix-blend-mode: screen;
  opacity: 0;
  animation: lightning-flash 22s ease-in-out infinite;
}

/* Niebla */
body.weather-mist {
  background: linear-gradient(180deg, #6da0a6 0%, #5f8b93 45%, #4c6f77 100%);
  color: #f3f7f9;
}
body.weather-mist::before {
  background: radial-gradient(ellipse at 40% 40%, rgba(255, 255, 255, 0.16) 0%, rgba(255, 255, 255, 0) 55%),
              radial-gradient(ellipse at 70% 60%, rgba(255, 255, 255, 0.12) 0%, rgba(255, 255, 255, 0) 55%);
  filter: blur(12px);
  animation: mist-move 26s ease-in-out infinite alternate;
}
body.weather-mist::after {
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0));
  filter: blur(6px);
}

/* Animaciones */
@keyframes sun-glow {
  from { transform: translate3d(-6%, -4%, 0) scale(1); opacity: 0.8; }
  to   { transform: translate3d(6%, 4%, 0) scale(1.06); opacity: 1; }
}

@keyframes clouds-drift {
  from { transform: translate3d(-4%, 0, 0) scale(1.02); }
  to   { transform: translate3d(4%, 1%, 0) scale(1); }
}

@keyframes rain-fall {
  from { background-position: 0 -40px; }
  to   { background-position: 0 40px; }
}

@keyframes snow-fall {
  from { transform: translate3d(0, -10px, 0); }
  to   { transform: translate3d(-2px, 24px, 0); }
}

@keyframes lightning-flash {
  0%, 94%, 100% { opacity: 0; }
  95% { opacity: 0.65; }
  96% { opacity: 0.15; }
  97% { opacity: 0.45; }
  98% { opacity: 0; }
}

@keyframes mist-move {
  from { transform: translate3d(-3%, 0, 0) scale(1.03); }
  to   { transform: translate3d(3%, 2%, 0) scale(1.0); }
}

/* Fallback sin datos */
body.weather-offline {
  background: linear-gradient(135deg, #2a3445 0%, #1c2432 100%);
  color: #e8f0ff;
}